<!DOCTYPE html><html lang="en"><head> <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/> <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1.0, user-scalable=no"/> <title>Keepgram</title> <link href="css/materialize.css" type="text/css" rel="stylesheet" media="screen,projection"/> <link href="css/style.css" type="text/css" rel="stylesheet" media="screen,projection"/> <link rel="manifest" href="manifest.json"> <meta name="theme-color" content="#42A5F5"> <script src="https://code.jquery.com/jquery-2.1.1.min.js"></script> <script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/0.96.1/js/materialize.min.js"></script> <script src="js/init.js"></script> <script type="text/javascript">var searches=[],username=$("#username").val();searches!=[]&&(searches=JSON.parse(localStorage.searches||"[]"));$(document).ready(function(){void 0==searches||null==searches||0==searches.length?console.log("No Searches"):getSearches();$("#recentsearches a").click("click",function(){$(".button-collapse").sideNav("hide")});$(document).on("click","#video",function(a){a=$(this).get(0);!1===a.paused?a.pause():a.play();return!1})});function getSearches(){var a=JSON.parse(localStorage.searches);console.log(a);for(var b=0;b<a.length;b++)$("#recentsearches").append("<a id='uSearch' onclick=lookupID('"+a[b]+"');>@"+a[b]+"</a><br/>")}function openSettings(){$("#settings").openModal()}$(function(){$("#go").bind("click",function(){var a=$("#username").val();lookupID(a)});$("#username").bind("keypress",function(a){13==a.keyCode&&(a=$("#username").val(),lookupID(a))})});function lookupID(a){if(null!=a){var b=$.inArray(a,searches);-1==b?(searches.push(a),localStorage.searches=JSON.stringify(searches)):searches.splice(b,1)}$.ajax({url:"https://api.instagram.com/v1/users/search?client_id=b418fc7be18041af9198ab8ef85317d2&q="+a+"&callback=?",dataType:"json",username:a,success:function(a){console.log(a);console.log(a.data.length);console.log(this.username);for(i=0;i<a.data.length;++i){var b=a.data[i].id;this.username==a.data[i].username&&$.ajax({type:"GET",dataType:"jsonp",url:"https://api.instagram.com/v1/users/"+b+"/media/recent/?client_id=b418fc7be18041af9198ab8ef85317d2",success:function(a){$(".pics").empty();$(".videos").empty();for(var b=document.getElementById("maxPhoto"),b=b.options[b.selectedIndex].value,c=0;c<b;c++)$(".pics").append("<div class='col s12 m6 l3'><a download='instagram-"+a.data[c].created_time+".png' href='"+a.data[c].images.standard_resolution.url+"'><img src='"+a.data[c].images.standard_resolution.url+"'></img></a><br/><br/></div>"),"video"==a.data[c].type&&($(".videos").append("<div class='col s12 m6 l3'><video id='video' class='responsive-video' src='"+a.data[c].videos.standard_resolution.url+"'></video><center><a class='waves-effect waves-light btn' href='"+a.data[c].videos.standard_resolution.url+"' download><i class='mdi-file-cloud-download left'></i> Download as .mp4</a></center><hr/></div>"),null==a.data[c].videos.standard_resolution.url&&$(".videos").append("<div class='col s12 m6 l3'><p>No videos found.</p>"))}})}}})};</script><body> <nav> <div class="nav-wrapper"> <a class="brand-logo">Keepgram</a> <a href="#" id="sideRecents" data-activates="recents" class="button-collapse"><i class="mdi-navigation-menu"></i></a> <ul class="right"> <li><a onclick="openSettings()" class="waves-effect waves-light"><i class="small mdi-action-settings"></i></a></li></ul> <ul class="side-nav" id="recents"> <li><p class="flow-text" style="color: black;">Recent Searches<p><hr/></li><div id="recentsearches"> </div></ul> </div></nav><div class="container"> <div class="row"> <div class="card z-depth-1"> <div class="card-content"> <div class="row"><ul class="tabs"> <li class="tab col s1"><a class="active" href="#pics">Images</a></li><li class="tab col s1"><a href="#videos">Videos</a></li></ul> <div class="input-field col s12"> <i class="mdi-action-account-circle prefix"></i> <input id="username" type="text" class="validate"> <label for="username">Username</label> <div> <a id="go" class="right">Search</a> </div></div></div></div><div class="row"> <div class="card-image"> <div id="pics" class="pics"></div><div id="videos" class="videos"></div></div></div></div><div id="settings" class="modal"> <div class="modal-content"> <h4>Settings</h4> <label>Max. # Photos</label> <select id="maxPhoto" class="browser-default"> <option value="5" disabled selected>Choose your option</option> <option value="10">10</option> <option value="20">20</option> </select> <p class="flow-text">Sadly, Instagram only allows us to display 20 pictures at a time. I am working on a work around!<hr/>Made with &#10084; by Lars </p></div><div class="modal-footer"> <a href="#" onclick="lookupID()" class="waves-effect waves-green btn-flat modal-action modal-close">Save</a> </div></div></body></html>